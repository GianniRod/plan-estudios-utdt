<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UTDT Economics - Student Hub</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fuente 'Outfit' de Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                    },
                    colors: {
                        'dt-pink': '#ec4899', /* Pink-500 */
                        'dt-teal': '#2dd4bf', /* Teal-400 */
                        'dt-yellow': '#fbbf24', /* Amber-400 */
                        'dt-dark': '#1f2937',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #f8fafc;
            background-image: radial-gradient(#e2e8f0 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        .details-content {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }
        .details-content.open {
            max-height: 800px; /* Aumentado para acomodar el nuevo contenido */
            opacity: 1;
            margin-top: 1rem;
            padding-bottom: 1rem;
        }

        .pill-DIF√çCIL { background-color: #fecdd3; color: #be123c; border: 2px solid #be123c; }
        .pill-MEDIO { background-color: #fde68a; color: #b45309; border: 2px solid #b45309; }
        .pill-F√ÅCIL { background-color: #a7f3d0; color: #047857; border: 2px solid #047857; }

        .card-shadow-hover:hover {
            transform: translateY(-4px);
            box-shadow: 8px 8px 0px 0px rgba(45, 212, 191, 0.2); /* Sombra Teal */
        }
        
        /* Estilo para las secciones internas del desplegable */
        .info-section {
            border-left: 4px solid #e5e7eb;
            padding-left: 12px;
            margin-bottom: 12px;
        }
        .info-section.utility {
            border-color: #fbbf24; /* Amber para la utilidad */
            background-color: #fffbeb;
            padding: 10px;
            border-radius: 0 8px 8px 0;
        }
    </style>
</head>
<body class="text-gray-800 min-h-screen p-4 sm:p-8">

    <div class="max-w-6xl mx-auto">
        <!-- Header Estilo Pop -->
        <header class="mb-12 text-center relative">
            <div class="inline-block relative z-10">
                <h1 class="text-5xl sm:text-7xl font-extrabold tracking-tight mb-2">
                    <span class="text-dt-yellow drop-shadow-sm">di</span><span class="text-dt-teal drop-shadow-sm">te</span><span class="text-dt-pink drop-shadow-sm">lla</span>
                    <span class="text-gray-800 text-3xl sm:text-5xl block sm:inline mt-2 sm:mt-0">Economics</span>
                </h1>
                <div class="h-4 w-full bg-dt-yellow/30 absolute bottom-2 -z-10 rounded-full transform -rotate-1"></div>
            </div>
            <p class="text-xl font-medium text-gray-500 mt-4 max-w-2xl mx-auto">
                Tu mapa de ruta completo.
            </p>
        </header>

        <!-- Controles -->
        <div class="flex flex-col sm:flex-row justify-center items-center gap-4 mb-10 sticky top-4 z-50">
            <div class="bg-white/90 backdrop-blur-sm p-1.5 rounded-full shadow-lg border border-gray-200 flex">
                <button onclick="changeView('year')" id="btn-year" class="px-6 py-2 rounded-full font-bold transition-all bg-dt-pink text-white shadow-md">
                    Por A√±o
                </button>
                <button onclick="changeView('difficulty')" id="btn-diff" class="px-6 py-2 rounded-full font-bold transition-all text-gray-500 hover:text-dt-teal">
                    Por Dificultad
                </button>
            </div>

            <div id="difficulty-filters" class="hidden flex gap-2 flex-wrap justify-center">
                <button onclick="filterDifficulty('TODAS')" class="px-4 py-2 rounded-full font-bold bg-gray-800 text-white border-2 border-gray-800 text-sm hover:scale-105 transition">Todas</button>
                <button onclick="filterDifficulty('DIF√çCIL')" class="px-4 py-2 rounded-full font-bold bg-white text-red-600 border-2 border-red-200 hover:border-red-600 text-sm hover:scale-105 transition">Dif√≠cil</button>
                <button onclick="filterDifficulty('MEDIO')" class="px-4 py-2 rounded-full font-bold bg-white text-amber-600 border-2 border-amber-200 hover:border-amber-600 text-sm hover:scale-105 transition">Medio</button>
                <button onclick="filterDifficulty('F√ÅCIL')" class="px-4 py-2 rounded-full font-bold bg-white text-emerald-600 border-2 border-emerald-200 hover:border-emerald-600 text-sm hover:scale-105 transition">F√°cil</button>
            </div>
        </div>

        <!-- Contenedor de Cursos -->
        <div id="courses-container" class="space-y-8 pb-20">
            <!-- Se llena con JS -->
        </div>
    </div>

    <script>
        // --- DATA DE MATERIAS ACTUALIZADA ---
        const courses = [
            // --- 1er A√ëO ---
            { 
                id: 1, name: "Matem√°tica I", year: 1, semester: 1, difficulty: "DIF√çCIL", score: 9, symbol: "üìê", 
                quote: "El libro de la naturaleza est√° escrito en el lenguaje de las matem√°ticas.", author: "Galileo Galilei",
                desc: "C√°lculo y an√°lisis fundamental.",
                longDesc: "Dominar√°s funciones, l√≠mites, derivadas e integrales. Es la base l√≥gica indispensable.",
                utility: "Sin esto no puedes entender ning√∫n modelo econ√≥mico moderno. Es el filtro para desarrollar pensamiento abstracto riguroso."
            },
            { 
                id: 2, name: "Econom√≠a I", year: 1, semester: 1, difficulty: "MEDIO", score: 6, symbol: "ü™ô", 
                quote: "El primer principio de la econom√≠a es que los deseos son ilimitados y los recursos escasos.", author: "Thomas Sowell",
                desc: "Introducci√≥n a la escasez y la elecci√≥n.",
                longDesc: "Conceptos fundamentales: costo de oportunidad, frontera de posibilidades y oferta/demanda.",
                utility: "Cambia tu forma de ver el mundo. Aprender√°s a identificar los costos ocultos en cada decisi√≥n diaria."
            },
            { 
                id: 3, name: "Administraci√≥n I", year: 1, semester: 1, difficulty: "F√ÅCIL", score: 3, symbol: "üè¢", 
                quote: "La gesti√≥n es hacer las cosas bien; el liderazgo es hacer las cosas correctas.", author: "Peter Drucker",
                desc: "Estructura y procesos organizacionales.",
                longDesc: "Teor√≠a de las organizaciones, planificaci√≥n estrat√©gica b√°sica y roles gerenciales.",
                utility: "Entender√°s c√≥mo funciona una empresa por dentro y qui√©n toma las decisiones realmente."
            },
            { 
                id: 4, name: "Introducci√≥n al Derecho", year: 1, semester: 1, difficulty: "MEDIO", score: 4, symbol: "‚öñÔ∏è", 
                quote: "Donde termina la ley, comienza la tiran√≠a.", author: "John Locke",
                desc: "Marco legal para los negocios.",
                longDesc: "Bases del derecho civil y comercial, contratos y obligaciones.",
                utility: "Evitar√°s problemas legales futuros. Fundamental para firmar contratos y entender tus responsabilidades como directivo."
            },
            { 
                id: 5, name: "Matem√°tica II", year: 1, semester: 2, difficulty: "DIF√çCIL", score: 8, symbol: "‚ûó", 
                quote: "No te preocupes por tus dificultades en matem√°ticas. Te aseguro que las m√≠as son mayores.", author: "Albert Einstein",
                desc: "√Ålgebra lineal y multivariable.",
                longDesc: "Matrices, vectores y optimizaci√≥n de funciones de varias variables.",
                utility: "Clave para Data Science y para entender modelos econ√≥micos de equilibrio general donde interact√∫an m√∫ltiples mercados."
            },
            { 
                id: 6, name: "Econom√≠a II", year: 1, semester: 2, difficulty: "MEDIO", score: 6, symbol: "üíµ", 
                quote: "A largo plazo, todos estaremos muertos.", author: "John M. Keynes",
                desc: "Macroeconom√≠a introductoria.",
                longDesc: "PIB, inflaci√≥n, desempleo, dinero y sistema bancario.",
                utility: "Para leer el diario y entender por qu√© suben los precios o por qu√© el d√≥lar se mueve."
            },
            { 
                id: 7, name: "Historia de Occidente", year: 1, semester: 2, difficulty: "F√ÅCIL", score: 2, symbol: "üìú", 
                quote: "Aquellos que no recuerdan el pasado est√°n condenados a repetirlo.", author: "George Santayana",
                desc: "Contexto hist√≥rico moderno.",
                longDesc: "Procesos pol√≠ticos y sociales desde la Modernidad hasta hoy.",
                utility: "Te da cultura general y contexto pol√≠tico, vital para no ser un t√©cnico que ignora la sociedad donde vive."
            },
            { 
                id: 8, name: "Contabilidad B√°sica", year: 1, semester: 2, difficulty: "MEDIO", score: 5, symbol: "üßæ", 
                quote: "La contabilidad es el lenguaje de los negocios.", author: "Warren Buffett",
                desc: "Estados financieros b√°sicos.",
                longDesc: "Lectura de Balance General y Estado de Resultados. Partida doble.",
                utility: "Es la herramienta #1 para diagnosticar la salud financiera de una empresa. Si no sabes leer un balance, no puedes invertir."
            },
            { 
                id: 9, name: "Comprensi√≥n de Textos", year: 1, semester: 2, difficulty: "F√ÅCIL", score: 1, symbol: "‚úçÔ∏è", 
                quote: "Escribir es pensar en papel.", author: "William Zinsser",
                desc: "Lectura cr√≠tica y redacci√≥n.",
                longDesc: "T√©cnicas para abordar textos complejos y estructurar argumentos escritos.",
                utility: "Mejora tu capacidad de s√≠ntesis, crucial para escribir informes ejecutivos que la gente realmente lea."
            },

            // --- 2do A√ëO ---
            { 
                id: 10, name: "Intro. a la Estad√≠stica", year: 2, semester: 1, difficulty: "DIF√çCIL", score: 8, symbol: "üìä", 
                quote: "En Dios confiamos. Todos los dem√°s deben traer datos.", author: "W. Edwards Deming",
                desc: "Probabilidad y datos.",
                longDesc: "Distribuciones, variables aleatorias y teor√≠a de probabilidad.",
                utility: "La base de toda la inteligencia de negocios moderna. Aprender√°s a cuantificar la incertidumbre."
            },
            { 
                id: 11, name: "Info. y Cont. Gerencial I", year: 2, semester: 1, difficulty: "MEDIO", score: 6, symbol: "üíº", 
                quote: "Lo que no se mide, no se puede mejorar.", author: "Lord Kelvin",
                desc: "Costos y presupuestos.",
                longDesc: "Contabilidad de gesti√≥n, an√°lisis de costos y punto de equilibrio.",
                utility: "Para saber cu√°nto te cuesta realmente producir algo y a qu√© precio venderlo para no perder plata."
            },
            { 
                id: 12, name: "Microeconom√≠a", year: 2, semester: 1, difficulty: "DIF√çCIL", score: 10, symbol: "üìà", 
                quote: "La econom√≠a es el estudio de la humanidad en los asuntos ordinarios de la vida.", author: "Alfred Marshall",
                desc: "Teor√≠a del consumidor y la firma.",
                longDesc: "Modelos matem√°ticos de maximizaci√≥n de utilidad y beneficios. El coraz√≥n te√≥rico de la carrera.",
                utility: "Desarrolla una intuici√≥n econ√≥mica a prueba de balas. Entender√°s los incentivos detr√°s de cada acci√≥n humana."
            },
            { 
                id: 13, name: "Econom√≠a Matem√°tica", year: 2, semester: 1, difficulty: "DIF√çCIL", score: 9, symbol: "üß†", 
                quote: "Las matem√°ticas poseen no solo la verdad, sino la belleza suprema.", author: "Bertrand Russell",
                desc: "Modelado avanzado.",
                longDesc: "Herramientas matem√°ticas complejas aplicadas a teor√≠a econ√≥mica.",
                utility: "Te entrena para resolver problemas abstractos complejos, una habilidad muy valorada en consultor√≠a estrat√©gica."
            },
            { 
                id: 14, name: "An√°lisis Estad√≠stico", year: 2, semester: 2, difficulty: "DIF√çCIL", score: 9, symbol: "üìâ", 
                quote: "Tortura los datos y confesaron cualquier cosa.", author: "Ronald Coase",
                desc: "Inferencia estad√≠stica.",
                longDesc: "Test de hip√≥tesis, estimaci√≥n de par√°metros y regresi√≥n lineal simple.",
                utility: "Te permite validar si una estrategia de negocios funcion√≥ por talento o por pura suerte."
            },
            { 
                id: 15, name: "Historia Econ. Internacional", year: 2, semester: 2, difficulty: "MEDIO", score: 4, symbol: "üåç", 
                quote: "La historia es la pol√≠tica del pasado.", author: "Sir John Seeley",
                desc: "Evoluci√≥n econ√≥mica global.",
                longDesc: "Desarrollo del capitalismo, crisis hist√≥ricas y crecimiento de las naciones.",
                utility: "Entender los ciclos econ√≥micos a largo plazo para no asustarse con las crisis coyunturales."
            },
            { 
                id: 16, name: "Instituciones Pol√≠ticas", year: 2, semester: 2, difficulty: "F√ÅCIL", score: 3, symbol: "üèõÔ∏è", 
                quote: "El hombre es un animal pol√≠tico.", author: "Arist√≥teles",
                desc: "Sistemas de gobierno.",
                longDesc: "Funcionamiento de poderes del estado, sistemas electorales y democracia.",
                utility: "Comprender el riesgo pol√≠tico y regulatorio que afecta a cualquier empresa grande."
            },
            { 
                id: 17, name: "Info. y Cont. Gerencial II", year: 2, semester: 2, difficulty: "MEDIO", score: 5, symbol: "‚öôÔ∏è", 
                quote: "El control es la fuerza que mantiene unida a la organizaci√≥n.", author: "Henry Fayol",
                desc: "Control de gesti√≥n.",
                longDesc: "Tableros de control (BSC), KPIs e incentivos.",
                utility: "Dise√±ar sistemas para que los empleados trabajen alineados con los objetivos de los due√±os."
            },

            // --- 3er A√ëO ---
            { 
                id: 18, name: "Macroeconom√≠a", year: 3, semester: 1, difficulty: "DIF√çCIL", score: 9, symbol: "üè¶", 
                quote: "La inflaci√≥n es siempre y en todas partes un fen√≥meno monetario.", author: "Milton Friedman",
                desc: "Din√°mica y crecimiento.",
                longDesc: "Modelos IS-LM-BP, curvas de Phillips, crecimiento de Solow y pol√≠tica monetaria.",
                utility: "Para trabajar en bancos, consultoras econ√≥micas o en el sector p√∫blico dise√±ando pol√≠ticas."
            },
            { 
                id: 19, name: "Marketing", year: 3, semester: 1, difficulty: "MEDIO", score: 6, symbol: "üéØ", 
                quote: "La gente no compra lo que haces, compra por qu√© lo haces.", author: "Simon Sinek",
                desc: "Estrategia comercial.",
                longDesc: "Segmentaci√≥n, Targeting, Posicionamiento y gesti√≥n de marca.",
                utility: "Aprender a vender valor y no solo precio. Fundamental para cualquier emprendimiento."
            },
            { 
                id: 20, name: "M√©todos Anal√≠ticos (Negocios)", year: 3, semester: 1, difficulty: "DIF√çCIL", score: 8, symbol: "‚ôüÔ∏è", 
                quote: "Un juego es una serie de decisiones interesantes.", author: "Sid Meier",
                desc: "Teor√≠a de Juegos.",
                longDesc: "Equilibrio de Nash, juegos din√°micos y estrategia competitiva matem√°tica.",
                utility: "Para negociar y predecir las reacciones de tu competencia en un mercado oligop√≥lico."
            },
            // NUEVA
            { 
                id: 30, name: "M√©todos Estad√≠sticos (Negocios)", year: 3, semester: 1, difficulty: "DIF√çCIL", score: 9, symbol: "üíª", 
                quote: "Sin datos, solo eres otra persona con una opini√≥n.", author: "Geoffrey Moore",
                desc: "Econometr√≠a aplicada.",
                longDesc: "Regresiones m√∫ltiples, an√°lisis de series de tiempo y causalidad. Uso de software estad√≠stico (R/Stata).",
                utility: "La habilidad t√©cnica m√°s buscada hoy. Te permite medir el impacto real de una campa√±a o pol√≠tica ('A/B Testing' avanzado)."
            },
            // NUEVA
            { 
                id: 31, name: "Expresi√≥n Oral y Escrita", year: 3, semester: 1, difficulty: "F√ÅCIL", score: 2, symbol: "üó£Ô∏è", 
                quote: "La ret√≥rica es el arte de gobernar las mentes.", author: "Plat√≥n",
                desc: "Oratoria y argumentaci√≥n.",
                longDesc: "T√©cnicas de presentaci√≥n efectiva, storytelling y debate.",
                utility: "Puedes tener la mejor idea del mundo, pero si no sabes presentarla en 5 minutos, no vale nada."
            },

            { 
                id: 21, name: "Riesgo y Finanzas", year: 3, semester: 2, difficulty: "DIF√çCIL", score: 10, symbol: "‚ö†Ô∏è", 
                quote: "El riesgo proviene de no saber lo que est√°s haciendo.", author: "Warren Buffett",
                desc: "Mercados de capitales.",
                longDesc: "Valor tiempo del dinero, bonos, acciones, CAPM y relaci√≥n riesgo-retorno.",
                utility: "El ABC de Wall Street. Necesario para gestionar tu propio portafolio o trabajar en finanzas."
            },
            { 
                id: 22, name: "Teor√≠a de las Decisiones", year: 3, semester: 2, difficulty: "MEDIO", score: 7, symbol: "üé≤", 
                quote: "Nada es m√°s dif√≠cil, y por lo tanto m√°s precioso, que ser capaz de decidir.", author: "Napole√≥n",
                desc: "Psicolog√≠a y racionalidad.",
                longDesc: "Sesgos cognitivos, heur√≠sticas, √°rboles de decisi√≥n y utilidad esperada.",
                utility: "Te ayuda a evitar trampas mentales y tomar decisiones m√°s racionales y fr√≠as bajo presi√≥n."
            },
            { 
                id: 23, name: "Direcci√≥n de Operaciones I", year: 3, semester: 2, difficulty: "MEDIO", score: 5, symbol: "üõ†Ô∏è", 
                quote: "La eficiencia es hacer las cosas bien.", author: "Peter Drucker",
                desc: "Procesos productivos.",
                longDesc: "Cadena de suministro, gesti√≥n de inventarios y mejora de procesos (Lean/Six Sigma).",
                utility: "Vital para roles en log√≠stica, planta o tech ops. Optimizar procesos ahorra millones."
            },
            // NUEVA
            { 
                id: 32, name: "Marketing Digital", year: 3, semester: 2, difficulty: "MEDIO", score: 6, symbol: "üì±", 
                quote: "El contenido es el rey.", author: "Bill Gates",
                desc: "Ecosistema digital.",
                longDesc: "SEO, SEM, Analytics, embudos de conversi√≥n y publicidad program√°tica.",
                utility: "Imprescindible en el siglo XXI. Te ense√±a a captar clientes donde pasan todo su tiempo: en internet."
            },

            // --- 4to A√ëO ---
            { 
                id: 24, name: "Finanzas Internacionales", year: 4, semester: 1, difficulty: "DIF√çCIL", score: 9, symbol: "üåê", 
                quote: "El dinero no tiene patria.", author: "Napole√≥n Bonaparte",
                desc: "Macro-finanzas global.",
                longDesc: "Tipos de cambio, paridad de tasas y derivados financieros para cobertura.",
                utility: "Para trabajar en multinacionales que operan en varias monedas y protegerse de devaluaciones."
            },
            { 
                id: 25, name: "Finanzas de la Empresa", year: 4, semester: 1, difficulty: "DIF√çCIL", score: 10, symbol: "üí∞", 
                quote: "El precio es lo que pagas. El valor es lo que obtienes.", author: "Warren Buffett",
                desc: "Corporate Finance.",
                longDesc: "Valuaci√≥n de empresas (DCF), estructura de capital y fusiones (M&A).",
                utility: "La materia cumbre para banca de inversi√≥n. Aprender√°s cu√°nto vale realmente un negocio."
            },
            { 
                id: 26, name: "Innovaci√≥n y Emprendedurismo", year: 4, semester: 1, difficulty: "MEDIO", score: 5, symbol: "üöÄ", 
                quote: "La mejor manera de predecir el futuro es crearlo.", author: "Peter Drucker",
                desc: "Startups y Venture Capital.",
                longDesc: "Metodolog√≠as √°giles, Lean Startup y levantamiento de capital.",
                utility: "Si sue√±as con fundar tu propia empresa o trabajar en un fondo de inversi√≥n, empieza aqu√≠."
            },
            // NUEVA
            { 
                id: 33, name: "Innovaci√≥n", year: 4, semester: 1, difficulty: "F√ÅCIL", score: 4, symbol: "üí°", 
                quote: "La innovaci√≥n distingue al l√≠der del seguidor.", author: "Steve Jobs",
                desc: "Gesti√≥n de la creatividad.",
                longDesc: "Procesos de innovaci√≥n corporativa, Design Thinking y cultura de innovaci√≥n.",
                utility: "Para roles de 'Product Manager' o para liderar el cambio dentro de grandes corporaciones anquilosadas."
            },

            { 
                id: 27, name: "Estrategia Comp. Digital", year: 4, semester: 2, difficulty: "MEDIO", score: 6, symbol: "üîó", 
                quote: "El software se est√° comiendo el mundo.", author: "Marc Andreessen",
                desc: "Econom√≠a de plataformas.",
                longDesc: "Efectos de red, mercados de dos lados (tipo Uber/Airbnb) y lock-in tecnol√≥gico.",
                utility: "Entender√°s por qu√© las Big Tech son monopolios naturales y c√≥mo competir en la econom√≠a digital."
            },
            // NUEVA
            { 
                id: 34, name: "Desarrollo de Nuevos Negocios", year: 4, semester: 2, difficulty: "MEDIO", score: 5, symbol: "üèóÔ∏è", 
                quote: "Persigue la visi√≥n, no el dinero.", author: "Tony Hsieh",
                desc: "Ejecuci√≥n de proyectos.",
                longDesc: "Plan de negocios detallado, go-to-market strategy y viabilidad operativa.",
                utility: "El paso final antes de lanzar. Transforma una idea abstracta en un plan ejecutable y financiable."
            },
            // NUEVA
            { 
                id: 35, name: "Direcci√≥n de Negocios II", year: 4, semester: 2, difficulty: "MEDIO", score: 5, symbol: "üëî", 
                quote: "El liderazgo es el arte de dar a la gente una plataforma para ejecutar ideas.", author: "Seth Godin",
                desc: "Estrategia General y Operaciones Avanzadas.",
                longDesc: "Visi√≥n integral de la firma, gesti√≥n de crisis y alineaci√≥n estrat√©gica de todas las √°reas.",
                utility: "Te prepara para la 'C-Suite' (CEO/COO), integrando finanzas, operaciones y marketing en una sola visi√≥n."
            },
            // NUEVA
            { 
                id: 36, name: "Intro. a Blockchain", year: 4, semester: 2, difficulty: "MEDIO", score: 7, symbol: "üß±", 
                quote: "La tecnolog√≠a es mejor cuando une a la gente.", author: "Matt Mullenweg",
                desc: "Criptoactivos y descentralizaci√≥n.",
                longDesc: "Funcionamiento de Bitcoin/Ethereum, Smart Contracts y tokenizaci√≥n de la econom√≠a.",
                utility: "Est√°s ante la internet del valor. Clave para entender DeFi y el futuro de las transacciones sin intermediarios."
            }
        ];

        // --- L√ìGICA DE INTERFAZ ---

        const container = document.getElementById('courses-container');
        const btnYear = document.getElementById('btn-year');
        const btnDiff = document.getElementById('btn-diff');
        const filtersDiv = document.getElementById('difficulty-filters');
        
        let currentView = 'year';
        let currentFilter = 'TODAS';

        function renderCourseCard(c) {
            // Estilos din√°micos basados en el logo
            let borderClass = 'border-l-4 border-gray-200';
            if (c.year === 1) borderClass = 'border-l-8 border-dt-pink';
            if (c.year === 2) borderClass = 'border-l-8 border-dt-teal';
            if (c.year === 3) borderClass = 'border-l-8 border-dt-yellow';
            if (c.year === 4) borderClass = 'border-l-8 border-purple-500';

            return `
            <div class="bg-white rounded-3xl p-6 shadow-sm border border-gray-100 card-shadow-hover transition-all duration-300 relative overflow-hidden group">
                <!-- Header de la tarjeta -->
                <div class="flex flex-col sm:flex-row justify-between items-start mb-4 gap-4">
                    <div class="flex items-center gap-4">
                        <div class="text-4xl p-3 bg-gray-50 rounded-2xl group-hover:scale-110 transition-transform duration-300 shadow-inner">
                            ${c.symbol}
                        </div>
                        <div>
                            <h3 class="text-xl sm:text-2xl font-bold text-gray-800 leading-tight group-hover:text-dt-pink transition-colors">
                                ${c.name}
                            </h3>
                            <span class="text-xs font-bold uppercase tracking-wide text-gray-400">
                                ${c.year}¬∞ A√±o | Semestre ${c.semester}
                            </span>
                        </div>
                    </div>
                    <div class="flex flex-row sm:flex-col items-center sm:items-end gap-2 w-full sm:w-auto justify-between sm:justify-start">
                        <span class="text-xs font-bold px-3 py-1 rounded-full pill-${c.difficulty}">
                            ${c.difficulty}
                        </span>
                        <div class="flex items-center bg-gray-100 rounded-lg px-2 py-1">
                            <span class="text-sm font-bold text-gray-600">Score:</span>
                            <span class="ml-1 text-lg font-black text-dt-dark">${c.score}</span>
                        </div>
                    </div>
                </div>

                <!-- Cita Inspiradora -->
                <div class="mb-5 relative pl-4 border-l-4 border-dt-yellow/50">
                    <p class="text-lg font-medium text-gray-700 italic leading-snug">"${c.quote}"</p>
                    <p class="text-xs font-bold text-dt-teal mt-1">‚Äî ${c.author}</p>
                </div>

                <!-- Descripci√≥n breve -->
                <p class="text-gray-500 text-sm mb-5 font-medium">${c.desc}</p>

                <!-- Bot√≥n Desplegable -->
                <button onclick="toggleDetails(${c.id})" class="w-full py-2.5 rounded-xl bg-gray-50 hover:bg-dt-teal hover:text-white hover:shadow-lg font-bold text-sm text-gray-500 transition-all flex items-center justify-center gap-2 group-btn border border-gray-100">
                    <span>Ver detalles y utilidad</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transform transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" id="icon-${c.id}">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>

                <!-- Contenido Oculto -->
                <div id="details-${c.id}" class="details-content bg-white mt-2">
                    <div class="info-section">
                        <h4 class="font-bold text-gray-800 mb-1 flex items-center gap-2">
                            üßê ¬øDe qu√© trata?
                        </h4>
                        <p class="text-sm text-gray-600 leading-relaxed">${c.longDesc}</p>
                    </div>
                    
                    <div class="info-section utility">
                        <h4 class="font-bold text-amber-700 mb-1 flex items-center gap-2">
                            üöÄ ¬øPara qu√© me sirve?
                        </h4>
                        <p class="text-sm text-amber-900 leading-relaxed font-medium">${c.utility}</p>
                    </div>
                </div>
            </div>
            `;
        }

        function toggleDetails(id) {
            const content = document.getElementById(`details-${id}`);
            const icon = document.getElementById(`icon-${id}`);
            
            // Cerrar otros abiertos (opcional, para mantener limpieza)
            // document.querySelectorAll('.details-content.open').forEach(el => {
            //     if(el.id !== `details-${id}`) el.classList.remove('open');
            // });

            if (content.classList.contains('open')) {
                content.classList.remove('open');
                icon.classList.remove('rotate-180');
            } else {
                content.classList.add('open');
                icon.classList.add('rotate-180');
            }
        }

        function renderByYear() {
            container.innerHTML = '';
            // Agrupar por a√±o
            for (let i = 1; i <= 4; i++) {
                const yearCourses = courses.filter(c => c.year === i);
                if (yearCourses.length === 0) continue;

                const section = document.createElement('div');
                section.className = 'mb-16';
                
                // T√≠tulo del A√±o con estilo
                let titleColor = 'text-gray-800';
                if (i === 1) titleColor = 'text-dt-pink';
                if (i === 2) titleColor = 'text-dt-teal';
                if (i === 3) titleColor = 'text-dt-yellow';
                if (i === 4) titleColor = 'text-purple-600';
                
                // Ordenar por semestre dentro del a√±o
                yearCourses.sort((a, b) => a.semester - b.semester);

                section.innerHTML = `
                    <div class="flex items-center gap-4 mb-8 sticky top-20 bg-slate-50/95 backdrop-blur py-4 z-40 rounded-xl px-4 shadow-sm border border-slate-100">
                        <h2 class="text-4xl sm:text-5xl font-black ${titleColor} tracking-tight">${i}¬∞ A√ëO</h2>
                        <div class="h-2 flex-grow bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full w-1/4 ${titleColor.replace('text-', 'bg-')} opacity-20"></div>
                        </div>
                    </div>
                    
                    <!-- Semestre 1 -->
                    <h3 class="text-lg font-bold text-gray-400 mb-4 uppercase tracking-widest pl-2 border-l-4 border-gray-300">Primer Semestre</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        ${yearCourses.filter(c => c.semester === 1).map(c => renderCourseCard(c)).join('')}
                    </div>

                    <!-- Semestre 2 -->
                    ${yearCourses.filter(c => c.semester === 2).length > 0 ? `
                    <h3 class="text-lg font-bold text-gray-400 mb-4 uppercase tracking-widest pl-2 border-l-4 border-gray-300">Segundo Semestre</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        ${yearCourses.filter(c => c.semester === 2).map(c => renderCourseCard(c)).join('')}
                    </div>` : ''}
                `;
                container.appendChild(section);
            }
        }

        function renderByDifficulty() {
            container.innerHTML = '';
            
            const filtered = currentFilter === 'TODAS' 
                ? courses 
                : courses.filter(c => c.difficulty === currentFilter);

            if (filtered.length === 0) {
                container.innerHTML = `<div class="text-center p-10 text-gray-400 font-bold bg-white rounded-3xl border border-dashed border-gray-300">No hay materias para este filtro.</div>`;
                return;
            }

            // Grid simple para dificultad
            const grid = document.createElement('div');
            grid.className = "grid grid-cols-1 md:grid-cols-2 gap-6";
            // Ordenar por a√±o y semestre
            filtered.sort((a, b) => (a.year - b.year) || (a.semester - b.semester));
            
            grid.innerHTML = filtered.map(c => renderCourseCard(c)).join('');
            container.appendChild(grid);
        }

        function changeView(view) {
            currentView = view;
            
            // Toggle Botones principales
            if (view === 'year') {
                btnYear.className = "px-6 py-2 rounded-full font-bold transition-all bg-dt-pink text-white shadow-md transform scale-105";
                btnDiff.className = "px-6 py-2 rounded-full font-bold transition-all text-gray-500 hover:text-dt-teal";
                filtersDiv.classList.add('hidden');
                renderByYear();
            } else {
                btnYear.className = "px-6 py-2 rounded-full font-bold transition-all text-gray-500 hover:text-dt-pink";
                btnDiff.className = "px-6 py-2 rounded-full font-bold transition-all bg-dt-teal text-white shadow-md transform scale-105";
                filtersDiv.classList.remove('hidden');
                renderByDifficulty();
            }
        }

        function filterDifficulty(diff) {
            currentFilter = diff;
            renderByDifficulty();
            
            // Actualizar estado visual de los botones de filtro
            const buttons = filtersDiv.querySelectorAll('button');
            buttons.forEach(btn => {
                const btnText = btn.textContent.toUpperCase();
                const isMatch = btnText === diff || (diff === 'TODAS' && btnText === 'TODAS');
                
                if (isMatch) {
                    btn.classList.add('ring-2', 'ring-offset-2', 'ring-gray-300', 'shadow-lg');
                    btn.style.transform = "scale(1.05)";
                } else {
                    btn.classList.remove('ring-2', 'ring-offset-2', 'ring-gray-300', 'shadow-lg');
                    btn.style.transform = "scale(1)";
                }
            });
        }

        // Init
        renderByYear();

    </script>
</body>
</html>